<devices xmlns="http://tail-f.com/ns/ncs">
  <device>
    <name>{$DEVICE}</name>
    <config>
      <bgp xmlns="urn:huawei:yang:huawei-bgp">
        <global>
          <yang-enable>true</yang-enable>
        </global>
        <base-process>
          <enable>true</enable>
          <as>{$AS}</as>
          <keep-all-routes>false</keep-all-routes>
          <check-first-as>true</check-first-as>
          <router-id-auto-select>false</router-id-auto-select>
          <shutdown>false</shutdown>
          <local-ifnet-mtu>1500</local-ifnet-mtu>
          <private-4byte-as>false</private-4byte-as>
          <local-cross-no-med>false</local-cross-no-med>
          <confederation>
            <nonstanded>false</nonstanded>
          </confederation>
          <graceful-restart>
            <enable>false</enable>
            <time-wait-for-rib>600</time-wait-for-rib>
            <restart-time>150</restart-time>
            <peer-reset>false</peer-reset>
          </graceful-restart>
          <reference-period>
            <suppress-interval>60</suppress-interval>
            <hold-interval>120</hold-interval>
            <clear-interval>600</clear-interval>
          </reference-period>
          <timer>
            <connect-retry-time>32</connect-retry-time>
            <keep-alive-time>60</keep-alive-time>
            <hold-time>180</hold-time>
            <min-hold-time>0</min-hold-time>
          </timer>
        </base-process>
      </bgp>
      <mpls xmlns="urn:huawei:yang:huawei-mpls">
        <common>
          <global>
            <mpls-enable>true</mpls-enable>
            <lsr-id>{$SOURCE_ADDRESS}</lsr-id>
            <null-lable-type>non-null</null-lable-type>
            <diff-serv-mode>uniform</diff-serv-mode>
            <te-ttl-mode>uniform</te-ttl-mode>
            <ldp-ttl-mode>uniform</ldp-ttl-mode>
            <sr-ttl-mode>uniform</sr-ttl-mode>
            <ftn-delay-time>0</ftn-delay-time>
            <mpls-mtu-independent>false</mpls-mtu-independent>
            <entropy-label-capability>false</entropy-label-capability>
            <bgp-ttl-mode xmlns="urn:huawei:yang:huawei-bgp-lsp">
              <ttl-mode>pipe</ttl-mode>
            </bgp-ttl-mode>
            <ttl-expiration-pop xmlns="urn:huawei:yang:huawei-pp4">
              <switch-flag>true</switch-flag>
            </ttl-expiration-pop>
          </global>
          <threshold-alarm>
            <autobypass-tunnel-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </autobypass-tunnel-number>
            <autoprimary-tunnel-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </autoprimary-tunnel-number>
            <ldp-lsp-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </ldp-lsp-number>
            <outsegment-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </outsegment-number>
            <remote-adjacency-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </remote-adjacency-number>
            <mldp-tree-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </mldp-tree-number>
            <mldp-branch-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </mldp-branch-number>
            <rsvp-lsp-number>
              <upper-value>80</upper-value>
              <lower-value>75</lower-value>
            </rsvp-lsp-number>
            <dynamic-label-number>
              <upper-value>80</upper-value>
              <lower-value>70</lower-value>
            </dynamic-label-number>
          </threshold-alarm>
        </common>
        <ldp xmlns="urn:huawei:yang:huawei-mpls-ldp">
          <enable>false</enable>
          <lsp-trigger-mode>host</lsp-trigger-mode>
          <proxy-egress-lsp-disable>false</proxy-egress-lsp-disable>
          <bgp-label>false</bgp-label>
          <sr-lsp-trigger-mode>none</sr-lsp-trigger-mode>
          <bfd>
            <p2p>
              <detect-multiplier>3</detect-multiplier>
              <tunnel-detect-multiplier>3</tunnel-detect-multiplier>
            </p2p>
            <mldp>
              <p2mp-tunnel-dm>3</p2mp-tunnel-dm>
            </mldp>
          </bfd>
        </ldp>
        <te xmlns="urn:huawei:yang:huawei-mpls-te">
          <enable>true</enable>
          <global>
            <switch-delay-time>5000</switch-delay-time>
            <delete-delay-time>20000</delete-delay-time>
            <frr-timer-weight>300</frr-timer-weight>
            <pce-delegate>no</pce-delegate>
            <pce-inter-layer-delegate>false</pce-inter-layer-delegate>
            <pce-cleanup-lsp-state>false</pce-cleanup-lsp-state>
            <pce-cleanup-initiated-lsp>false</pce-cleanup-initiated-lsp>
            <pce-clean-stitch-label>false</pce-clean-stitch-label>
            <lsp-loopback-clear-time>5</lsp-loopback-clear-time>
            <ip-prefix-delete-time>300</ip-prefix-delete-time>
            <slsp-deduct-rsvp-bandwidth>false</slsp-deduct-rsvp-bandwidth>
            <reoptimization-link-disable>true</reoptimization-link-disable>
            <rsvp-entropy-label>false</rsvp-entropy-label>
            <bandwidth-auto-config-disable>false</bandwidth-auto-config-disable>
            <suppress-flapping-disable>false</suppress-flapping-disable>
            <path-verification>false</path-verification>
            <soft-preemption>false</soft-preemption>
            <self-ping>false</self-ping>
            <self-ping-duration>1800</self-ping-duration>
            <p2mp-enable>false</p2mp-enable>
            <p2mp-auto-frr>false</p2mp-auto-frr>
            <p2mp-frr-mbb-type>sub-lsp</p2mp-frr-mbb-type>
            <auto-frr-enable>false</auto-frr-enable>
            <auto-frr-reoptimization>false</auto-frr-reoptimization>
            <auto-bandwidth-enable>false</auto-bandwidth-enable>
            <flood-bandwidth-enable>false</flood-bandwidth-enable>
            <ds-te-mode>non-ietf</ds-te-mode>
          </global>
          <rsvp>
            <enable>false</enable>
          </rsvp>
          <cspf>
            <enable>true</enable>
            <preferred-igp>ospf</preferred-igp>
            <multi-instances-short-path-mode>disable</multi-instances-short-path-mode>
            <tie-breaking>random</tie-breaking>
            <path-metric-type>te</path-metric-type>
            <srlg-path-calculate-mode>default</srlg-path-calculate-mode>
            <fast-notice>false</fast-notice>
            <disable-optimize-mode>false</disable-optimize-mode>
          </cspf>
          <bfd-for-lsp xmlns="urn:huawei:yang:huawei-mpls-te-bfd">
            <detect-multiplier>3</detect-multiplier>
          </bfd-for-lsp>
          <bfd-for-tunnel xmlns="urn:huawei:yang:huawei-mpls-te-bfd">
            <detect-multiplier>3</detect-multiplier>
          </bfd-for-tunnel>
        </te>
      </mpls>
      <ifm xmlns="urn:huawei:yang:huawei-ifm">
        <interfaces>
          <interface>
            <name>{$CORE_INTERFACE}</name>
            <ipv4 xmlns="urn:huawei:yang:huawei-ip">
              <addresses>
                <address>
                  <ip>{$CORE_ADDRESS}</ip>
                  <mask>{$CORE_MASK}</mask>
                  <type>main</type>
                </address>
              </addresses>
            </ipv4>
          </interface>
          <interface>
            <name>{$EDGE_INTERFACE}.{$EDGE_SUBINTERFACE}</name>
            <class>sub-interface</class>
            <type>{$EDGE_INTERFACE_TYPE}</type>
            <parent-name>{$EDGE_INTERFACE}</parent-name>
            <number>{$EDGE_SUBINTERFACE}</number>
            <admin-status>up</admin-status>
            <link-protocol>ethernet</link-protocol>
            <router-type>broadcast</router-type>
            <clear-ip-df>false</clear-ip-df>
            <link-up-down-trap-enable>true</link-up-down-trap-enable>
            <statistic-enable>false</statistic-enable>
            <statistic-mode>interface-based</statistic-mode>
            <spread-mtu-flag>false</spread-mtu-flag>
            <vrf-name>test-v4v6</vrf-name>
            <l2-mode-enable>false</l2-mode-enable>
            <trap-threshold>
              <input-rising-rate>90</input-rising-rate>
              <input-resume-rate>80</input-resume-rate>
              <output-rising-rate>90</output-rising-rate>
              <output-resume-rate>80</output-resume-rate>
            </trap-threshold>
            <arp-entry xmlns="urn:huawei:yang:huawei-arp">
              <expire-time>1200</expire-time>
              <probe-interval>5</probe-interval>
              <probe-times>3</probe-times>
              <arp-learn-disable>false</arp-learn-disable>
              <arp-learn-strict>trust</arp-learn-strict>
              <route-proxy-enable>false</route-proxy-enable>
              <inner-proxy-enable>false</inner-proxy-enable>
              <inter-proxy-enable>false</inter-proxy-enable>
              <fake-expire-time>5</fake-expire-time>
              <probe-unicast>false</probe-unicast>
              <dest-mac-check>false</dest-mac-check>
              <src-mac-check>false</src-mac-check>
              <gratuitous-send>enable</gratuitous-send>
              <fake-penalty-time>5</fake-penalty-time>
              <gratuitous-arp-drop>false</gratuitous-arp-drop>
            </arp-entry>
            <cpudefend xmlns="urn:huawei:yang:huawei-cpudefend">
              <arp-safeguards>
                <arp-safeguard>false</arp-safeguard>
              </arp-safeguards>
              <arp-vlan-car>
                <rate-limit>20</rate-limit>
              </arp-vlan-car>
              <nd-vlan-cars>
                <nd-vlan-car>
                  <type>na</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-unicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-multicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
              </nd-vlan-cars>
              <arp-check>
                <check-destination-ip>false</check-destination-ip>
              </arp-check>
              <arp-filter>
                <filter-gratuitous>false</filter-gratuitous>
                <filter-mac-illegal>false</filter-mac-illegal>
                <filter-tha-filled-request>false</filter-tha-filled-request>
              </arp-filter>
            </cpudefend>
            <dhcp-relay-attribute xmlns="urn:huawei:yang:huawei-dhcp">
              <enable>false</enable>
              <option82>
                <link-selection-enable>false</link-selection-enable>
                <subscriber-id-enable>false</subscriber-id-enable>
              </option82>
            </dhcp-relay-attribute>
            <dhcpv6-relay-attribute xmlns="urn:huawei:yang:huawei-dhcpv6">
              <strict-check>false</strict-check>
            </dhcpv6-relay-attribute>
            <ethernet xmlns="urn:huawei:yang:huawei-ethernet">
              <l3-sub-interface>
                <vlan-type-dot1q>
                  <vlan-type-vid>4</vlan-type-vid>
                </vlan-type-dot1q>
                <mode-channel xmlns="urn:huawei:yang:huawei-fim-ethernet">
                  <mode-channel-enable>disable</mode-channel-enable>
                </mode-channel>
              </l3-sub-interface>
            </ethernet>
            <fim xmlns="urn:huawei:yang:huawei-fim-ifm">
              <statistic-mode>mac</statistic-mode>
            </fim>
            <ipv4 xmlns="urn:huawei:yang:huawei-ip">
              <addresses>
                <address>
                  <ip>{$EDGE_ADDRESS}</ip>
                  <mask>{$EDGE_MASK}</mask>
                  <type>main</type>
                </address>
              </addresses>
            </ipv4>
            <ipv6 xmlns="urn:huawei:yang:huawei-ip">
              <spread-mtu-flag>false</spread-mtu-flag>
              <auto-link-local>false</auto-link-local>
              <addresses>
                <address>
                  <ip>{$EDGE_ADDRESS_IPV6}</ip>
                  <prefix-length>{$EDGE_PREFIXLEN_IPV6}</prefix-length>
                  <type>global</type>
                  <algorithm-type>none</algorithm-type>
                </address>
              </addresses>
              <nd-collection xmlns="urn:huawei:yang:huawei-ipv6-nd">
                <if-property>
                  <retrans-timer>1000</retrans-timer>
                  <nud-reach-time>1200000</nud-reach-time>
                  <attempts-value>1</attempts-value>
                  <max-dyn-nb-num>0</max-dyn-nb-num>
                  <nud-attempts>3</nud-attempts>
                  <na-glean>off</na-glean>
                  <ma-flag>off</ma-flag>
                  <o-flag>off</o-flag>
                  <ra-halt-flag>on</ra-halt-flag>
                  <max-interval>600</max-interval>
                  <ra-preference>medium</ra-preference>
                  <ra-prefix-flag>on</ra-prefix-flag>
                  <ra-mtu-flag>on</ra-mtu-flag>
                  <strict-flag>false</strict-flag>
                  <ts-fuzz-factor>1</ts-fuzz-factor>
                  <ts-clock-drift>1</ts-clock-drift>
                  <ts-delta>300</ts-delta>
                  <rsa-min-key-len>512</rsa-min-key-len>
                  <rsa-max-key-len>2048</rsa-max-key-len>
                </if-property>
                <proxys>
                  <route-proxy>off</route-proxy>
                  <inner-vlan-proxy>off</inner-vlan-proxy>
                  <inter-vlan-proxy>off</inter-vlan-proxy>
                  <anyway-proxy>off</anyway-proxy>
                </proxys>
              </nd-collection>
            </ipv6>
            <multicast-bas xmlns="urn:huawei:yang:huawei-multicast-bas">
              <authorization-enable>false</authorization-enable>
            </multicast-bas>
            <multicast-forward xmlns="urn:huawei:yang:huawei-multicast-forward">
              <shaping>
                <shaping-enable>false</shaping-enable>
              </shaping>
            </multicast-forward>
          </interface>
          <interface>
            <name>LoopBack1</name>
            <class>main-interface</class>
            <type>LoopBack</type>
            <number>1</number>
            <admin-status>up</admin-status>
            <router-type>PtoP</router-type>
            <clear-ip-df>false</clear-ip-df>
            <link-up-down-trap-enable>true</link-up-down-trap-enable>
            <statistic-enable>true</statistic-enable>
            <statistic-mode>interface-based</statistic-mode>
            <mtu>1500</mtu>
            <spread-mtu-flag>false</spread-mtu-flag>
            <vrf-name>_public_</vrf-name>
            <l2-mode-enable>false</l2-mode-enable>
            <cpudefend xmlns="urn:huawei:yang:huawei-cpudefend">
              <arp-safeguards>
                <arp-safeguard>false</arp-safeguard>
              </arp-safeguards>
              <arp-vlan-car>
                <rate-limit>20</rate-limit>
              </arp-vlan-car>
              <nd-vlan-cars>
                <nd-vlan-car>
                  <type>na</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-unicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-multicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
              </nd-vlan-cars>
              <arp-check>
                <check-destination-ip>false</check-destination-ip>
              </arp-check>
              <arp-filter>
                <filter-gratuitous>false</filter-gratuitous>
                <filter-mac-illegal>false</filter-mac-illegal>
                <filter-tha-filled-request>false</filter-tha-filled-request>
              </arp-filter>
            </cpudefend>
            <ipv4 xmlns="urn:huawei:yang:huawei-ip">
              <addresses>
                <address>
                  <ip>{$SOURCE_ADDRESS}</ip>
                  <mask>255.255.255.255</mask>
                  <type>main</type>
                </address>
              </addresses>
            </ipv4>
          </interface>
          <interface>
            <name>Tunnel1</name>
            <class>main-interface</class>
            <type>Tunnel</type>
            <number>1</number>
            <admin-status>up</admin-status>
            <router-type>PtoP</router-type>
            <clear-ip-df>false</clear-ip-df>
            <link-up-down-trap-enable>true</link-up-down-trap-enable>
            <statistic-enable>true</statistic-enable>
            <statistic-mode>interface-based</statistic-mode>
            <mtu>1500</mtu>
            <spread-mtu-flag>false</spread-mtu-flag>
            <vrf-name>_public_</vrf-name>
            <l2-mode-enable>false</l2-mode-enable>
            <cpudefend xmlns="urn:huawei:yang:huawei-cpudefend">
              <arp-safeguards>
                <arp-safeguard>false</arp-safeguard>
              </arp-safeguards>
              <arp-vlan-car>
                <rate-limit>20</rate-limit>
              </arp-vlan-car>
              <nd-vlan-cars>
                <nd-vlan-car>
                  <type>na</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-unicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
                <nd-vlan-car>
                  <type>ns-multicast</type>
                  <rate-limit>100</rate-limit>
                </nd-vlan-car>
              </nd-vlan-cars>
              <arp-check>
                <check-destination-ip>false</check-destination-ip>
              </arp-check>
              <arp-filter>
                <filter-gratuitous>false</filter-gratuitous>
                <filter-mac-illegal>false</filter-mac-illegal>
                <filter-tha-filled-request>false</filter-tha-filled-request>
              </arp-filter>
            </cpudefend>
            <ipv4 xmlns="urn:huawei:yang:huawei-ip">
              <unnumbered-address>
                <unnumbered-if-name>LoopBack1</unnumbered-if-name>
              </unnumbered-address>
            </ipv4>
            <tunnel-protocol xmlns="urn:huawei:yang:huawei-tunnel-management">
              <te-tunnel xmlns="urn:huawei:yang:huawei-mpls-te">
                <common-attributes>
                  <signal-protocol>segment-routing</signal-protocol>
                  <tunnel-id>1</tunnel-id>
                  <egress-lsr-id>{$DESTINATION_ADDRESS}</egress-lsr-id>
                  <reserved-for-binding>false</reserved-for-binding>
                  <lsp-tp-outbound>false</lsp-tp-outbound>
                  <statistic-enable>false</statistic-enable>
                </common-attributes>
                <sr-te>
                  <bandwidth>0</bandwidth>
                  <setup-priority>7</setup-priority>
                  <hold-priority>7</hold-priority>
                  <pce-delegate>no</pce-delegate>
                  <split-tunnel>false</split-tunnel>
                  <path-verification>inherit</path-verification>
                  <adjacency-sid>false</adjacency-sid>
                  <lsp-paths>
                    <lsp-path>
                      <type>primary</type>
                      <hop-limit>32</hop-limit>
                      <include-any>0x0</include-any>
                      <exclude-any>0x0</exclude-any>
                    </lsp-path>
                  </lsp-paths>
                  <bfd-for-lsp xmlns="urn:huawei:yang:huawei-mpls-te-bfd">
                    <detect-multiplier>3</detect-multiplier>
                  </bfd-for-lsp>
                  <bfd-for-tunnel xmlns="urn:huawei:yang:huawei-mpls-te-bfd">
                    <detect-multiplier>3</detect-multiplier>
                  </bfd-for-tunnel>
                </sr-te>
                <igp-attr xmlns="urn:huawei:yang:huawei-igp">
                  <adv-enable>false</adv-enable>
                  <adv-ipv6-enable>false</adv-ipv6-enable>
                  <hold-time>0</hold-time>
                  <shortcut-type>disable</shortcut-type>
                </igp-attr>
              </te-tunnel>
            </tunnel-protocol>
          </interface>
        </interfaces>
      </ifm>
      <mplsoam xmlns="urn:huawei:yang:huawei-mplsoam">
        <global>
          <oam-enable>false</oam-enable>
        </global>
      </mplsoam>
      <network-instance xmlns="urn:huawei:yang:huawei-network-instance">
        <instances>
          <instance>
            <name>_public_</name>
            <segment-routing xmlns="urn:huawei:yang:huawei-segment-routing">
              <enable>true</enable>
              <tunnel-prefer>ldp</tunnel-prefer>
              <traffic-stats>
                <mode>none</mode>
              </traffic-stats>
              <srpolicy xmlns="urn:huawei:yang:huawei-srpolicy">
                <policy-attributes>
                  <delete-delay>20000</delete-delay>
                  <hsb-enable>false</hsb-enable>
                  <traffic-statistics-enable>false</traffic-statistics-enable>
                  <bgp-ls-enable>false</bgp-ls-enable>
                  <policy-threshold-upper>80</policy-threshold-upper>
                  <policy-threshold-lower>75</policy-threshold-lower>
                  <list-threshold-upper>80</list-threshold-upper>
                  <list-threshold-lower>75</list-threshold-lower>
                  <bfd>
                    <enable>disable</enable>
                    <min-tx>10</min-tx>
                    <min-rx>10</min-rx>
                    <multi-num>3</multi-num>
                  </bfd>
                </policy-attributes>
              </srpolicy>
            </segment-routing>
            <bgp xmlns="urn:huawei:yang:huawei-bgp">
              <base-process>
                <router-id>{$SOURCE_ADDRESS}</router-id>
                <afs>
                  <af>
                    <type>ipv4uni</type>
                    <ipv4-unicast>
                      <common>
                        <auto-frr>false</auto-frr>
                        <route-select-delay>0</route-select-delay>
                        <reflect-change-path>false</reflect-change-path>
                        <maximum-load-balancing-ibgp>1</maximum-load-balancing-ibgp>
                        <maximum-load-balancing-ebgp>1</maximum-load-balancing-ebgp>
                        <nexthop-select-depend-type>depend-ip</nexthop-select-depend-type>
                        <always-compare-med>false</always-compare-med>
                        <default-med>0</default-med>
                        <summary-automatic>false</summary-automatic>
                        <nexthop-third-party>false</nexthop-third-party>
                        <supernet-unicast-advertise>false</supernet-unicast-advertise>
                        <supernet-label-advertise>true</supernet-label-advertise>
                        <lsp-mtu>1500</lsp-mtu>
                        <label-free-delay>0</label-free-delay>
                        <bestroute-med-confederation>false</bestroute-med-confederation>
                        <bestroute-as-path-ignore>false</bestroute-as-path-ignore>
                        <determin-med>false</determin-med>
                        <best-external>false</best-external>
                        <load-balanc-igp-metric-ignore>false</load-balanc-igp-metric-ignore>
                        <load-balanc-as-path-ignore>false</load-balanc-as-path-ignore>
                        <load-balanc-as-path-relax>false</load-balanc-as-path-relax>
                        <default-local-preference>100</default-local-preference>
                        <default-route-import>false</default-route-import>
                        <routerid-neglect>false</routerid-neglect>
                        <maximum-load-balancing>1</maximum-load-balancing>
                        <reflect-between-client>true</reflect-between-client>
                        <route-relay-tunnel>false</route-relay-tunnel>
                        <bestroute-med-plus-igp>false</bestroute-med-plus-igp>
                        <bestroute-igp-metric-ignore>false</bestroute-igp-metric-ignore>
                        <bestroute-router-id-prior-clusterlist>false</bestroute-router-id-prior-clusterlist>
                        <bestroute-med-none-as-maximum>false</bestroute-med-none-as-maximum>
                        <ext-community-change>false</ext-community-change>
                        <active-route-advertise>false</active-route-advertise>
                      </common>
                      <preference>
                        <external>255</external>
                        <internal>255</internal>
                        <local>255</local>
                      </preference>
                      <nexthop-recursive-lookup>
                        <common>
                          <restrain>true</restrain>
                          <default-route>false</default-route>
                        </common>
                      </nexthop-recursive-lookup>
                      <lsp-options>
                        <ingress-protect-mode-bgp-frr>false</ingress-protect-mode-bgp-frr>
                        <maximum-load-balancing-ingress>1</maximum-load-balancing-ingress>
                        <maximum-load-balancing-transit>1</maximum-load-balancing-transit>
                      </lsp-options>
                      <slow-peer>
                        <detection>true</detection>
                        <detection-threshold>300</detection-threshold>
                        <absolute-detection>true</absolute-detection>
                        <absolute-detection-threshold>9</absolute-detection-threshold>
                      </slow-peer>
                      <routing-table-rib-only>
                        <enable>false</enable>
                      </routing-table-rib-only>
                    </ipv4-unicast>
                  </af>
                  <af>
                    <type>ipv4vpn</type>
                    <ipv4-vpn>
                      <policy-vpntarget>true</policy-vpntarget>
                      <reflect-change-path>false</reflect-change-path>
                      <auto-frr>false</auto-frr>
                      <route-select-delay>0</route-select-delay>
                      <apply-label-mode>per-route</apply-label-mode>
                      <nexthop-select-depend-type>depend-ip</nexthop-select-depend-type>
                      <default-med>0</default-med>
                      <best-external>false</best-external>
                      <label-free-delay>0</label-free-delay>
                      <default-local-preference>100</default-local-preference>
                      <bestroute-med-plus-igp>false</bestroute-med-plus-igp>
                      <bestroute-igp-metric-ignore>false</bestroute-igp-metric-ignore>
                      <bestroute-router-id-prior-clusterlist>false</bestroute-router-id-prior-clusterlist>
                      <reflect-between-client>true</reflect-between-client>
                      <nexthop-recursive-lookup>
                        <common>
                          <restrain>true</restrain>
                          <default-route>false</default-route>
                        </common>
                        <bit-error-detection>
                          <enable>false</enable>
                        </bit-error-detection>
                      </nexthop-recursive-lookup>
                      <slow-peer>
                        <detection>true</detection>
                        <detection-threshold>300</detection-threshold>
                        <absolute-detection>true</absolute-detection>
                        <absolute-detection-threshold>9</absolute-detection-threshold>
                      </slow-peer>
                    </ipv4-vpn>
                  </af>
                  <af>
                    <type>ipv6vpn</type>
                    <ipv6-vpn>
                      <policy-vpntarget>true</policy-vpntarget>
                      <reflect-change-path>false</reflect-change-path>
                      <auto-frr>false</auto-frr>
                      <route-select-delay>0</route-select-delay>
                      <apply-label-mode>per-route</apply-label-mode>
                      <nexthop-select-depend-type>depend-ip</nexthop-select-depend-type>
                      <default-med>0</default-med>
                      <best-external>false</best-external>
                      <default-local-preference>100</default-local-preference>
                      <bestroute-med-plus-igp>false</bestroute-med-plus-igp>
                      <bestroute-igp-metric-ignore>false</bestroute-igp-metric-ignore>
                      <bestroute-router-id-prior-clusterlist>false</bestroute-router-id-prior-clusterlist>
                      <reflect-between-client>true</reflect-between-client>
                      <label-free-delay>0</label-free-delay>
                      <nexthop-recursive-lookup>
                        <common>
                          <restrain>true</restrain>
                          <default-route>false</default-route>
                        </common>
                        <bit-error-detection>
                          <enable>false</enable>
                        </bit-error-detection>
                      </nexthop-recursive-lookup>
                      <slow-peer>
                        <detection>true</detection>
                        <detection-threshold>300</detection-threshold>
                        <absolute-detection>true</absolute-detection>
                        <absolute-detection-threshold>9</absolute-detection-threshold>
                      </slow-peer>
                    </ipv6-vpn>
                  </af>
                </afs>
                <peers>
                  <peer>
                    <address>{$DESTINATION_ADDRESS}</address>
                    <remote-as>{$AS}</remote-as>
                    <local-if-name>LoopBack1</local-if-name>
                    <password-type>null</password-type>
                    <tracking-enable>false</tracking-enable>
                    <conventional>false</conventional>
                    <route-refresh>true</route-refresh>
                    <four-byte-as>true</four-byte-as>
                    <ignore>false</ignore>
                    <connect-mode>null</connect-mode>
                    <log-change>true</log-change>
                    <path-mtu-auto-discovery>false</path-mtu-auto-discovery>
                    <local-ifnet-disable>true</local-ifnet-disable>
                    <check-first-as>default</check-first-as>
                    <egress-engineer>default</egress-engineer>
                    <memory-priority>default</memory-priority>
                    <timer>
                      <keep-alive-time>60</keep-alive-time>
                      <hold-time>180</hold-time>
                      <min-hold-time>0</min-hold-time>
                      <connect-retry-time>32</connect-retry-time>
                    </timer>
                    <graceful-restart>
                      <enable>default</enable>
                      <peer-reset>default</peer-reset>
                    </graceful-restart>
                    <local-graceful-restart>
                      <enable>default</enable>
                    </local-graceful-restart>
                    <afs>
                      <af>
                        <type>ipv4uni</type>
                        <ipv4-unicast>
                          <advertise-community>false</advertise-community>
                          <reflect-client>false</reflect-client>
                          <orf-type>null</orf-type>
                          <orf-mode>null</orf-mode>
                          <label-route-capability>false</label-route-capability>
                          <advertise-ext-community>false</advertise-ext-community>
                          <discard-ext-community>false</discard-ext-community>
                          <aigp>false</aigp>
                          <default-route-advertise>false</default-route-advertise>
                          <add-path-mode>null</add-path-mode>
                          <route-update-interval>15</route-update-interval>
                          <preferred-value>0</preferred-value>
                          <substitute-as-enable>false</substitute-as-enable>
                          <keep-all-routes>false</keep-all-routes>
                          <exp-mode>null</exp-mode>
                          <advertise-best-external>false</advertise-best-external>
                          <load-balancing-enable>false</load-balancing-enable>
                          <advertise-large-community>default</advertise-large-community>
                          <public-as-only>
                            <enable>false</enable>
                          </public-as-only>
                        </ipv4-unicast>
                      </af>
                      <af>
                        <type>ipv4vpn</type>
                        <ipv4-vpn>
                          <advertise-community>false</advertise-community>
                          <reflect-client>false</reflect-client>
                          <aigp>false</aigp>
                          <add-path-mode>null</add-path-mode>
                          <reoriginate-route-enable>false</reoriginate-route-enable>
                          <reoriginate-ip-enable>false</reoriginate-ip-enable>
                          <reoriginate-mac-ip-enable>false</reoriginate-mac-ip-enable>
                          <reoriginate-vpnv4-route-enable>false</reoriginate-vpnv4-route-enable>
                          <route-update-interval>15</route-update-interval>
                          <preferred-value>0</preferred-value>
                          <upe>false</upe>
                          <high-priority>default</high-priority>
                          <advertise-best-external>false</advertise-best-external>
                          <advertise-large-community>default</advertise-large-community>
                          <keep-all-routes>false</keep-all-routes>
                          <public-as-only>
                            <enable>false</enable>
                          </public-as-only>
                        </ipv4-vpn>
                      </af>
                      <af>
                        <type>ipv6vpn</type>
                        <ipv6-vpn>
                          <advertise-community>false</advertise-community>
                          <reflect-client>false</reflect-client>
                          <aigp>false</aigp>
                          <add-path-mode>null</add-path-mode>
                          <reoriginate-route-enable>false</reoriginate-route-enable>
                          <reoriginate-ipv6-enable>false</reoriginate-ipv6-enable>
                          <reoriginate-mac-ipv6-enable>false</reoriginate-mac-ipv6-enable>
                          <route-update-interval>15</route-update-interval>
                          <preferred-value>0</preferred-value>
                          <advertise-best-external>false</advertise-best-external>
                          <advertise-large-community>default</advertise-large-community>
                          <keep-all-routes>false</keep-all-routes>
                          <public-as-only>
                            <enable>false</enable>
                          </public-as-only>
                        </ipv6-vpn>
                      </af>
                    </afs>
                  </peer>
                </peers>
              </base-process>
            </bgp>
            <mpls xmlns="urn:huawei:yang:huawei-mpls">
              <common>
                <mpls-interfaces>
                  <mpls-interface>
                    <name>{$CORE_INTERFACE}</name>
                  </mpls-interface>
                </mpls-interfaces>
              </common>
            </mpls>
            <isis xmlns="urn:huawei:yang:huawei-isis">
              <sites>
                <site>
                  <id>1</id>
                  <level>level-1-2</level>
                  <shutdown>false</shutdown>
                  <cost-style>wide</cost-style>
                  <direct-inherit>false</direct-inherit>
                  <adv-one-intf-addr>false</adv-one-intf-addr>
                  <lsp-fragments-extend>
                    <enable-level1>false</enable-level1>
                    <enable-level2>false</enable-level2>
                  </lsp-fragments-extend>
                  <poi-tlv>
                    <enable>false</enable>
                  </poi-tlv>
                  <lsdb-limit>
                    <enable>false</enable>
                  </lsdb-limit>
                  <suppress-flapping>
                    <peer>
                      <enable>true</enable>
                    </peer>
                    <lsp-flood>
                      <interval>10</interval>
                      <threshold>30</threshold>
                    </lsp-flood>
                    <route-calculate>
                      <interval>10</interval>
                      <threshold>30</threshold>
                    </route-calculate>
                    <lsp-generation>
                      <interval>10</interval>
                      <threshold>30</threshold>
                    </lsp-generation>
                  </suppress-flapping>
                  <timer>
                    <lsp-max>1200</lsp-max>
                    <lsp-refresh>900</lsp-refresh>
                    <purge-lsp-delay>20</purge-lsp-delay>
                    <spf>
                      <max>5</max>
                      <init>50</init>
                      <incr>200</incr>
                    </spf>
                    <lsp-generation>
                      <max-level1>2</max-level1>
                      <max-level2>2</max-level2>
                    </lsp-generation>
                  </timer>
                  <lsp-length>
                    <originate-level1>1497</originate-level1>
                    <originate-level2>1497</originate-level2>
                    <receive>1497</receive>
                  </lsp-length>
                  <set-overload>
                    <type>no-set</type>
                  </set-overload>
                  <lsp-lifetime>
                    <enable>true</enable>
                    <max-age/>
                  </lsp-lifetime>
                  <bgp-ls>
                    <enable-level1>false</enable-level1>
                    <enable-level2>false</enable-level2>
                    <enable-ipv6-level1>false</enable-ipv6-level1>
                    <enable-ipv6-level2>false</enable-ipv6-level2>
                  </bgp-ls>
                  <bier>
                    <enable>false</enable>
                  </bier>
                  <extern-ability>
                    <adj-strict-check>false</adj-strict-check>
                    <ecmp-prefer>none</ecmp-prefer>
                    <opt-checksum>false</opt-checksum>
                    <virtual-cluster>false</virtual-cluster>
                    <virtual-access>false</virtual-access>
                  </extern-ability>
                  <local-mt>
                    <enable>false</enable>
                  </local-mt>
                  <net-entitys>
                    <net-entity>
                      <value>{$ISIS_NET_ENTITY}</value>
                    </net-entity>
                  </net-entitys>
                  <afs>
                    <af>
                      <type>afipv4</type>
                      <max-load-balancing>64</max-load-balancing>
                      <auto-cost>false</auto-cost>
                      <bandwidth>100</bandwidth>
                      <bfd-bit-error>false</bfd-bit-error>
                      <attach-bit>
                        <adv-control>no-type</adv-control>
                        <avoid-learn>false</avoid-learn>
                      </attach-bit>
                      <preference>
                        <value>15</value>
                      </preference>
                      <leak-route-level1-to-level2>
                        <enable>true</enable>
                        <tag>0</tag>
                        <allow-filter>false</allow-filter>
                        <nosidflag>false</nosidflag>
                      </leak-route-level1-to-level2>
                      <traffic-eng>
                        <enable-level1>false</enable-level1>
                        <enable-level2>true</enable-level2>
                        <metric-delay>
                          <adv-level1>false</adv-level1>
                          <adv-level2>false</adv-level2>
                        </metric-delay>
                      </traffic-eng>
                      <bfd>
                        <enable>false</enable>
                        <frr-binding>false</frr-binding>
                        <detect-multiplier>3</detect-multiplier>
                      </bfd>
                      <ldp-sync>
                        <enable>false</enable>
                        <infinite/>
                      </ldp-sync>
                      <mpls-ldp-global>
                        <auto-flag>false</auto-flag>
                      </mpls-ldp-global>
                      <advertise-link-attributes>
                        <enable>false</enable>
                      </advertise-link-attributes>
                      <frr>
                        <enable>false</enable>
                        <remote-lfa>
                          <rlfa-level1>false</rlfa-level1>
                          <rlfa-level2>false</rlfa-level2>
                        </remote-lfa>
                        <tiebreaker>
                          <node-protect-level1>40</node-protect-level1>
                          <node-protect-level2>40</node-protect-level2>
                          <lowest-cost-level1>20</lowest-cost-level1>
                          <lowest-cost-level2>20</lowest-cost-level2>
                          <non-ecmp-level1>10</non-ecmp-level1>
                          <non-ecmp-level2>10</non-ecmp-level2>
                          <srlg-disjoint-level1>5</srlg-disjoint-level1>
                          <srlg-disjoint-level2>5</srlg-disjoint-level2>
                          <hold-max-cost-level1>15</hold-max-cost-level1>
                          <hold-max-cost-level2>15</hold-max-cost-level2>
                        </tiebreaker>
                        <tilfa>
                          <enable-level1>false</enable-level1>
                          <enable-level2>false</enable-level2>
                        </tilfa>
                      </frr>
                      <segment-routing xmlns="urn:huawei:yang:huawei-isis-sr">
                        <enable>true</enable>
                        <auto-adj-sid>true</auto-adj-sid>
                        <adv-static-sid>false</adv-static-sid>
                        <binding>
                          <receive>true</receive>
                          <advertise>false</advertise>
                        </binding>
                        <lsp-trigger>
                          <type>host</type>
                        </lsp-trigger>
                      </segment-routing>
                    </af>
                  </afs>
                  <circuits>
                    <circuit>
                      <name>{$CORE_INTERFACE}</name>
                      <level>level-1-2</level>
                      <p2p-enable>false</p2p-enable>
                      <hello-mode>normal</hello-mode>
                      <silent-enable>false</silent-enable>
                      <purge-source-trace-block>false</purge-source-trace-block>
                      <mesh-group>
                        <state>inactive</state>
                      </mesh-group>
                      <suppress-flapping>
                        <peer>
                          <enable>true</enable>
                          <detect-interval>60</detect-interval>
                          <threshold>10</threshold>
                          <resume-interval>120</resume-interval>
                          <hold-max-cost>true</hold-max-cost>
                        </peer>
                      </suppress-flapping>
                      <timer>
                        <csnp-interval-level1>10</csnp-interval-level1>
                        <csnp-interval-level2>10</csnp-interval-level2>
                        <throttle-interval>50</throttle-interval>
                        <throttle-count>10</throttle-count>
                      </timer>
                      <broadcast>
                        <dis-priority-level1>64</dis-priority-level1>
                        <dis-priority-level2>64</dis-priority-level2>
                        <hello-timer-level1>10</hello-timer-level1>
                        <hello-timer-level2>10</hello-timer-level2>
                        <hold-multiplier-level1>3</hold-multiplier-level1>
                        <hold-multiplier-level2>3</hold-multiplier-level2>
                        <conser-level1>false</conser-level1>
                        <conser-level2>false</conser-level2>
                      </broadcast>
                      <afs>
                        <af>
                          <type>afipv4</type>
                          <tag-level1>0</tag-level1>
                          <tag-level2>0</tag-level2>
                          <suppress-reach>no-set</suppress-reach>
                          <bfd-bit-error>no-set</bfd-bit-error>
                          <mpls-ldp>
                            <auto-flag-block>false</auto-flag-block>
                          </mpls-ldp>
                          <frr>
                            <lfa-block-level1>false</lfa-block-level1>
                            <lfa-block-level2>false</lfa-block-level2>
                            <rlfa-disable-level1>false</rlfa-disable-level1>
                            <rlfa-disable-level2>false</rlfa-disable-level2>
                            <tilfa-disable-level1>false</tilfa-disable-level1>
                            <tilfa-disable-level2>false</tilfa-disable-level2>
                          </frr>
                          <bfd>
                            <min-rx>10</min-rx>
                            <min-tx>10</min-tx>
                            <detect-multiplier>3</detect-multiplier>
                            <frr-binding>false</frr-binding>
                          </bfd>
                          <ldp-sync>
                            <enable>none</enable>
                          </ldp-sync>
                        </af>
                      </afs>
                    </circuit>
                    <circuit>
                      <name>LoopBack1</name>
                      <level>level-1-2</level>
                      <p2p-enable>true</p2p-enable>
                      <hello-mode>normal</hello-mode>
                      <silent-enable>false</silent-enable>
                      <purge-source-trace-block>false</purge-source-trace-block>
                      <mesh-group>
                        <state>inactive</state>
                      </mesh-group>
                      <suppress-flapping>
                        <peer>
                          <enable>true</enable>
                          <detect-interval>60</detect-interval>
                          <threshold>10</threshold>
                          <resume-interval>120</resume-interval>
                          <hold-max-cost>true</hold-max-cost>
                        </peer>
                      </suppress-flapping>
                      <timer>
                        <csnp-interval-level1>10</csnp-interval-level1>
                        <csnp-interval-level2>10</csnp-interval-level2>
                        <throttle-interval>50</throttle-interval>
                        <throttle-count>10</throttle-count>
                      </timer>
                      <p2p>
                        <snpa-check>false</snpa-check>
                        <peer-ip-ignore>false</peer-ip-ignore>
                        <ppp-negotiation>3-way</ppp-negotiation>
                        <hello-timer>10</hello-timer>
                        <hold-multiplier>3</hold-multiplier>
                        <lsp-retransmit-interval>5</lsp-retransmit-interval>
                        <ppp-osicp-check>false</ppp-osicp-check>
                        <conser>false</conser>
                      </p2p>
                      <afs>
                        <af>
                          <type>afipv4</type>
                          <tag-level1>0</tag-level1>
                          <tag-level2>0</tag-level2>
                          <suppress-reach>no-set</suppress-reach>
                          <mpls-ldp>
                            <auto-flag-block>false</auto-flag-block>
                          </mpls-ldp>
                          <frr>
                            <lfa-block-level1>false</lfa-block-level1>
                            <lfa-block-level2>false</lfa-block-level2>
                            <rlfa-disable-level1>false</rlfa-disable-level1>
                            <rlfa-disable-level2>false</rlfa-disable-level2>
                            <tilfa-disable-level1>false</tilfa-disable-level1>
                            <tilfa-disable-level2>false</tilfa-disable-level2>
                          </frr>
                          <ldp-sync>
                            <enable>none</enable>
                          </ldp-sync>
                          <prefix-sids xmlns="urn:huawei:yang:huawei-isis-sr">
                            <prefix-sid>
                              <algorithm>0</algorithm>
                              <type>index</type>
                              <label>{$LABEL}</label>
                              <node-flag>true</node-flag>
                            </prefix-sid>
                          </prefix-sids>
                        </af>
                      </afs>
                    </circuit>
                  </circuits>
                  <avoid-micro-loop>
                    <frr-enable>false</frr-enable>
                    <frr-rib-update-delay>100</frr-rib-update-delay>
                    <sr-enable>false</sr-enable>
                    <sr-rib-update-delay>5000</sr-rib-update-delay>
                    <te-tunnel-enable>false</te-tunnel-enable>
                    <te-tunnel-delay>1000</te-tunnel-delay>
                    <sr-enable-flag xmlns="urn:huawei:yang:huawei-isis-sr">false</sr-enable-flag>
                    <sr-new-update-delay xmlns="urn:huawei:yang:huawei-isis-sr">5000</sr-new-update-delay>
                  </avoid-micro-loop>
                  <srgbs xmlns="urn:huawei:yang:huawei-isis-sr">
                    <srgb>
                      <lower-bound>16000</lower-bound>
                      <upper-bound>35000</upper-bound>
                    </srgb>
                  </srgbs>
                </site>
              </sites>
            </isis>
            <te xmlns="urn:huawei:yang:huawei-te">
              <interfaces xmlns="urn:huawei:yang:huawei-te-interface">
                <interface>
                  <name>{$CORE_INTERFACE}</name>
                  <mpls-te-enable>true</mpls-te-enable>
                  <p2mp-te-disable>false</p2mp-te-disable>
                  <attribute>
                    <admin-groups>0x0</admin-groups>
                    <bandwidth>
                      <max-reserved>0</max-reserved>
                      <bc0>0</bc0>
                      <change-threshold-down>10</change-threshold-down>
                      <change-threshold-up>10</change-threshold-up>
                    </bandwidth>
                  </attribute>
                  <mpls-te-attribute>
                    <auto-frr-mode>default</auto-frr-mode>
                    <auto-frr-attributes>
                      <bandwidth>0</bandwidth>
                      <setup-priority>7</setup-priority>
                      <hold-priority>7</hold-priority>
                      <hop-limit>32</hop-limit>
                      <include-any>0x0</include-any>
                      <exclude-any>0x0</exclude-any>
                    </auto-frr-attributes>
                  </mpls-te-attribute>
                </interface>
              </interfaces>
            </te>
          </instance>
          <instance>
            <name>test-v4v6</name>
            <bgp xmlns="urn:huawei:yang:huawei-bgp">
              <base-process>
                <router-id-auto-select>false</router-id-auto-select>
                <afs>
                  <af>
                    <type>ipv4uni</type>
                    <ipv4-unicast>
                      <common>
                        <auto-frr>false</auto-frr>
                        <route-select-delay>0</route-select-delay>
                        <reflect-change-path>false</reflect-change-path>
                        <maximum-load-balancing-ibgp>1</maximum-load-balancing-ibgp>
                        <maximum-load-balancing-ebgp>1</maximum-load-balancing-ebgp>
                        <nexthop-resolve-aigp>false</nexthop-resolve-aigp>
                        <always-compare-med>false</always-compare-med>
                        <default-med>0</default-med>
                        <summary-automatic>false</summary-automatic>
                        <nexthop-third-party>false</nexthop-third-party>
                        <best-route-bit-error-detection>false</best-route-bit-error-detection>
                        <supernet-unicast-advertise>false</supernet-unicast-advertise>
                        <supernet-label-advertise>true</supernet-label-advertise>
                        <label-free-delay>0</label-free-delay>
                        <bestroute-as-path-ignore>false</bestroute-as-path-ignore>
                        <determin-med>false</determin-med>
                        <attribute-set-enable>false</attribute-set-enable>
                        <load-balanc-igp-metric-ignore>false</load-balanc-igp-metric-ignore>
                        <load-balanc-as-path-ignore>false</load-balanc-as-path-ignore>
                        <load-balanc-as-path-relax>false</load-balanc-as-path-relax>
                        <default-local-preference>100</default-local-preference>
                        <default-route-import>false</default-route-import>
                        <routerid-neglect>false</routerid-neglect>
                        <maximum-load-balancing>1</maximum-load-balancing>
                        <reflect-between-client>true</reflect-between-client>
                        <import-rib-nexthop-invariable>false</import-rib-nexthop-invariable>
                        <bestroute-med-plus-igp>false</bestroute-med-plus-igp>
                        <bestroute-igp-metric-ignore>false</bestroute-igp-metric-ignore>
                        <bestroute-router-id-prior-clusterlist>false</bestroute-router-id-prior-clusterlist>
                        <bestroute-med-none-as-maximum>false</bestroute-med-none-as-maximum>
                        <load-balancing-eibgp-enable>false</load-balancing-eibgp-enable>
                        <ext-community-change>false</ext-community-change>
                        <active-route-advertise>false</active-route-advertise>
                      </common>
                      <preference>
                        <external>255</external>
                        <internal>255</internal>
                        <local>255</local>
                      </preference>
                      <nexthop-recursive-lookup>
                        <common>
                          <restrain>true</restrain>
                          <default-route>false</default-route>
                        </common>
                      </nexthop-recursive-lookup>
                      <import-routes>
                        <import-route>
                          <protocol>direct</protocol>
                          <process-id>0</process-id>
                        </import-route>
                      </import-routes>
                      <slow-peer>
                        <detection>true</detection>
                        <detection-threshold>300</detection-threshold>
                        <absolute-detection>true</absolute-detection>
                        <absolute-detection-threshold>9</absolute-detection-threshold>
                      </slow-peer>
                      <routing-table-rib-only>
                        <enable>false</enable>
                      </routing-table-rib-only>
                      <evpn xmlns="urn:huawei:yang:huawei-bgp-evpn">
                        <common>
                          <reoriginate-disable>false</reoriginate-disable>
                        </common>
                      </evpn>
                    </ipv4-unicast>
                  </af>
                  <af>
                    <type>ipv6uni</type>
                    <ipv6-unicast>
                      <common>
                        <auto-frr>false</auto-frr>
                        <route-select-delay>0</route-select-delay>
                        <reflect-change-path>false</reflect-change-path>
                        <maximum-load-balancing-ibgp>1</maximum-load-balancing-ibgp>
                        <maximum-load-balancing-ebgp>1</maximum-load-balancing-ebgp>
                        <nexthop-resolve-aigp>false</nexthop-resolve-aigp>
                        <always-compare-med>false</always-compare-med>
                        <default-med>0</default-med>
                        <nexthop-third-party>false</nexthop-third-party>
                        <supernet-unicast-advertise>false</supernet-unicast-advertise>
                        <bestroute-as-path-ignore>false</bestroute-as-path-ignore>
                        <determin-med>false</determin-med>
                        <attribute-set-enable>false</attribute-set-enable>
                        <load-balanc-igp-metric-ignore>false</load-balanc-igp-metric-ignore>
                        <load-balanc-as-path-ignore>false</load-balanc-as-path-ignore>
                        <load-balanc-as-path-relax>false</load-balanc-as-path-relax>
                        <default-local-preference>100</default-local-preference>
                        <default-route-import>false</default-route-import>
                        <routerid-neglect>false</routerid-neglect>
                        <maximum-load-balancing>1</maximum-load-balancing>
                        <reflect-between-client>true</reflect-between-client>
                        <best-route-bit-error-detection>false</best-route-bit-error-detection>
                        <import-rib-nexthop-invariable>false</import-rib-nexthop-invariable>
                        <route-relay-tunnel-v4>false</route-relay-tunnel-v4>
                        <bestroute-med-plus-igp>false</bestroute-med-plus-igp>
                        <bestroute-igp-metric-ignore>false</bestroute-igp-metric-ignore>
                        <bestroute-router-id-prior-clusterlist>false</bestroute-router-id-prior-clusterlist>
                        <bestroute-med-none-as-maximum>false</bestroute-med-none-as-maximum>
                        <load-balancing-eibgp-enable>false</load-balancing-eibgp-enable>
                        <ext-community-change>false</ext-community-change>
                        <active-route-advertise>false</active-route-advertise>
                      </common>
                      <preference>
                        <external>255</external>
                        <internal>255</internal>
                        <local>255</local>
                      </preference>
                      <nexthop-recursive-lookup>
                        <common>
                          <restrain>true</restrain>
                          <default-route>false</default-route>
                        </common>
                      </nexthop-recursive-lookup>
                      <import-routes>
                        <import-route>
                          <protocol>direct</protocol>
                          <process-id>0</process-id>
                        </import-route>
                      </import-routes>
                      <slow-peer>
                        <detection>true</detection>
                        <detection-threshold>300</detection-threshold>
                        <absolute-detection>true</absolute-detection>
                        <absolute-detection-threshold>9</absolute-detection-threshold>
                      </slow-peer>
                      <routing-table-rib-only>
                        <enable>false</enable>
                      </routing-table-rib-only>
                      <evpn xmlns="urn:huawei:yang:huawei-bgp-evpn">
                        <common>
                          <reoriginate-disable>false</reoriginate-disable>
                        </common>
                      </evpn>
                    </ipv6-unicast>
                  </af>
                </afs>
                <peers>
                  <peer>
                    <address>{$PEER_ADDRESS}</address>
                    <remote-as>110</remote-as>
                    <password-type>null</password-type>
                    <ebgp-max-hop>1</ebgp-max-hop>
                    <tracking-enable>false</tracking-enable>
                    <conventional>false</conventional>
                    <route-refresh>true</route-refresh>
                    <four-byte-as>true</four-byte-as>
                    <ignore>false</ignore>
                    <connect-mode>null</connect-mode>
                    <log-change>true</log-change>
                    <path-mtu-auto-discovery>false</path-mtu-auto-discovery>
                    <check-first-as>default</check-first-as>
                    <memory-priority>default</memory-priority>
                    <timer>
                      <keep-alive-time>60</keep-alive-time>
                      <hold-time>180</hold-time>
                      <min-hold-time>0</min-hold-time>
                      <connect-retry-time>32</connect-retry-time>
                    </timer>
                    <graceful-restart>
                      <enable>default</enable>
                      <peer-reset>default</peer-reset>
                    </graceful-restart>
                    <local-graceful-restart>
                      <enable>default</enable>
                    </local-graceful-restart>
                    <afs>
                      <af>
                        <type>ipv4uni</type>
                        <ipv4-unicast>
                          <advertise-community>false</advertise-community>
                          <reflect-client>false</reflect-client>
                          <label-route-capability>false</label-route-capability>
                          <advertise-ext-community>false</advertise-ext-community>
                          <discard-ext-community>false</discard-ext-community>
                          <default-route-advertise>false</default-route-advertise>
                          <route-update-interval>30</route-update-interval>
                          <preferred-value>0</preferred-value>
                          <substitute-as-enable>false</substitute-as-enable>
                          <keep-all-routes>false</keep-all-routes>
                          <load-balancing-enable>false</load-balancing-enable>
                          <advertise-large-community>default</advertise-large-community>
                          <public-as-only>
                            <enable>false</enable>
                          </public-as-only>
                        </ipv4-unicast>
                      </af>
                    </afs>
                  </peer>
                  <peer>
                    <address>{$PEER_ADDRESS_IPV6}</address>
                    <remote-as>110</remote-as>
                    <password-type>null</password-type>
                    <ebgp-max-hop>1</ebgp-max-hop>
                    <tracking-enable>false</tracking-enable>
                    <conventional>false</conventional>
                    <route-refresh>true</route-refresh>
                    <four-byte-as>true</four-byte-as>
                    <ignore>false</ignore>
                    <connect-mode>null</connect-mode>
                    <log-change>true</log-change>
                    <path-mtu-auto-discovery>false</path-mtu-auto-discovery>
                    <check-first-as>default</check-first-as>
                    <memory-priority>default</memory-priority>
                    <timer>
                      <keep-alive-time>60</keep-alive-time>
                      <hold-time>180</hold-time>
                      <min-hold-time>0</min-hold-time>
                      <connect-retry-time>32</connect-retry-time>
                    </timer>
                    <graceful-restart>
                      <enable>default</enable>
                      <peer-reset>default</peer-reset>
                    </graceful-restart>
                    <local-graceful-restart>
                      <enable>default</enable>
                    </local-graceful-restart>
                    <afs>
                      <af>
                        <type>ipv6uni</type>
                        <ipv6-unicast>
                          <advertise-community>false</advertise-community>
                          <reflect-client>false</reflect-client>
                          <label-route-capability>false</label-route-capability>
                          <advertise-ext-community>false</advertise-ext-community>
                          <discard-ext-community>false</discard-ext-community>
                          <default-route-advertise>false</default-route-advertise>
                          <route-update-interval>30</route-update-interval>
                          <preferred-value>0</preferred-value>
                          <substitute-as-enable>false</substitute-as-enable>
                          <keep-all-routes>false</keep-all-routes>
                          <load-balancing-enable>false</load-balancing-enable>
                          <advertise-large-community>default</advertise-large-community>
                          <public-as-only>
                            <enable>false</enable>
                          </public-as-only>
                        </ipv6-unicast>
                      </af>
                    </afs>
                  </peer>
                </peers>
              </base-process>
            </bgp>
            <traffic-statistic-enable xmlns="urn:huawei:yang:huawei-l3vpn">false</traffic-statistic-enable>
            <afs xmlns="urn:huawei:yang:huawei-l3vpn">
              <af>
                <type>ipv4-unicast</type>
                <route-distinguisher>{$AS}:{$RD}</route-distinguisher>
                <label-mode>per-instance</label-mode>
                <vpn-frr>false</vpn-frr>
                <tunnel-policy>111</tunnel-policy>
                <transit-vpn>false</transit-vpn>
                <lsp-operation>pop</lsp-operation>
                <vpn-targets>
                  <vpn-target>
                    <value>{$AS}:44</value>
                    <type>export-extcommunity</type>
                  </vpn-target>
                  <vpn-target>
                    <value>{$AS}:44</value>
                    <type>import-extcommunity</type>
                  </vpn-target>
                </vpn-targets>
                <evpn xmlns="urn:huawei:yang:huawei-evpn">
                  <mpls-routing>false</mpls-routing>
                </evpn>
                <routing xmlns="urn:huawei:yang:huawei-routing">
                  <routing-manage>
                    <option>
                      <frr-enable>false</frr-enable>
                    </option>
                    <topologys>
                      <topology>
                        <name>base</name>
                      </topology>
                    </topologys>
                  </routing-manage>
                  <static-routing>
                    <route-frr-set>
                      <unicast-route-frr-enable>false</unicast-route-frr-enable>
                      <multicast-route-frr-enable>false</multicast-route-frr-enable>
                    </route-frr-set>
                  </static-routing>
                </routing>
              </af>
              <af>
                <type>ipv6-unicast</type>
                <route-distinguisher>{$AS}:{$RD}</route-distinguisher>
                <label-mode>per-instance</label-mode>
                <vpn-frr>false</vpn-frr>
                <tunnel-policy>111</tunnel-policy>
                <transit-vpn>false</transit-vpn>
                <lsp-operation>pop</lsp-operation>
                <vpn-targets>
                  <vpn-target>
                    <value>{$AS}:44</value>
                    <type>export-extcommunity</type>
                  </vpn-target>
                  <vpn-target>
                    <value>{$AS}:44</value>
                    <type>import-extcommunity</type>
                  </vpn-target>
                </vpn-targets>
                <evpn xmlns="urn:huawei:yang:huawei-evpn">
                  <mpls-routing>false</mpls-routing>
                </evpn>
                <routing xmlns="urn:huawei:yang:huawei-routing">
                  <routing-manage>
                    <option>
                      <frr-enable>false</frr-enable>
                    </option>
                    <topologys>
                      <topology>
                        <name>base</name>
                      </topology>
                    </topologys>
                  </routing-manage>
                  <static-routing>
                    <route-frr-set>
                      <unicast-route-frr-enable>false</unicast-route-frr-enable>
                    </route-frr-set>
                  </static-routing>
                </routing>
              </af>
            </afs>
          </instance>
        </instances>
      </network-instance>
      <tunnel-management xmlns="urn:huawei:yang:huawei-tunnel-management">
        <tunnel-policys>
          <tunnel-policy>
            <name>111</name>
            <ipv4-set>
              <select-sequence>
                <loadbalance>1</loadbalance>
                <unmix>false</unmix>
                <select-tunnel-types>
                  <select-tunnel-type>
                    <type>sr-te</type>
                  </select-tunnel-type>
                </select-tunnel-types>
              </select-sequence>
            </ipv4-set>
          </tunnel-policy>
        </tunnel-policys>
      </tunnel-management>
      <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
        <interface>
          <name>{$CORE_INTERFACE}</name>
          <ipv4 xmlns="urn:ietf:params:xml:ns:yang:ietf-ip">
            <address>
              <ip>{$CORE_ADDRESS}</ip>
              <prefix-length>{$CORE_PREFIXLEN}</prefix-length>
            </address>
          </ipv4>
        </interface>
        <interface>
          <name>{$EDGE_INTERFACE}.{$EDGE_SUBINTERFACE}</name>
          <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">ianaift:l2vlan</type>
          <enabled>true</enabled>
          <link-up-down-trap-enable>enabled</link-up-down-trap-enable>
          <ipv4 xmlns="urn:ietf:params:xml:ns:yang:ietf-ip">
            <enabled>true</enabled>
            <forwarding>true</forwarding>
            <address>
              <ip>{$EDGE_ADDRESS}</ip>
              <prefix-length>{$EDGE_PREFIXLEN}</prefix-length>
            </address>
          </ipv4>
          <ipv6 xmlns="urn:ietf:params:xml:ns:yang:ietf-ip">
            <enabled>true</enabled>
            <forwarding>true</forwarding>
            <address>
              <ip>{$EDGE_ADDRESS_IPV6}</ip>
              <prefix-length>24</prefix-length>
            </address>
            <dup-addr-detect-transmits>1</dup-addr-detect-transmits>
          </ipv6>
        </interface>
        <interface>
          <name>LoopBack1</name>
          <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">ianaift:softwareLoopback</type>
          <enabled>true</enabled>
          <link-up-down-trap-enable>enabled</link-up-down-trap-enable>
          <ipv4 xmlns="urn:ietf:params:xml:ns:yang:ietf-ip">
            <enabled>true</enabled>
            <forwarding>true</forwarding>
            <address>
              <ip>{$SOURCE_ADDRESS}</ip>
              <prefix-length>32</prefix-length>
            </address>
          </ipv4>
        </interface>
        <interface>
          <name>Tunnel1</name>
          <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">ianaift:tunnel</type>
          <enabled>true</enabled>
          <link-up-down-trap-enable>enabled</link-up-down-trap-enable>
        </interface>
      </interfaces>
      <bgp-lsp xmlns="urn:huawei:yang:huawei-bgp-lsp">
        <bfd>
          <parameters>
            <detection-multiplier>3</detection-multiplier>
          </parameters>
        </bfd>
      </bgp-lsp>
    </config>
  </device>
</devices>
